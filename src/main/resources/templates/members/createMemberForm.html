<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="header">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrinkto-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Custom styles for this template -->
    <link href="/css/jumbotron-narrow.css" rel="stylesheet">
</head>
<body>
<div class="container">
    <form role="form" id="join_form" th:action="@{/members/new}" th:object="${memberDto}" method="post">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <div class="form-group">
            <label th:for="id">아이디</label>
            <input type="text" th:field="*{id}" class="form-control" placeholder="아이디를 입력하세요"
                   th:class="${#fields.hasErrors('id')}? 'form-control fieldError' : 'form-control'">
            <p th:if="${#fields.hasErrors('id')}" th:errors="*{id}"></p>
        </div>
        <div class="form-group">
            <label th:for="password">비밀번호</label>
            <input type="password" th:field="*{password}" id="password1" class="form-control" placeholder="비밀번호를 입력하세요"
                   th:class="${#fields.hasErrors('password')}? 'form-control fieldError' : 'form-control'">
            <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></p>
        </div>
        <div class="form-group">
            <label th:for="password">비밀번호 확인</label>
            <input type="password" id="password2" class="form-control" placeholder="비밀번호 확인">
        </div>
        <div class="form-group">
            <label th:for="name">이름</label>
            <input type="text" th:field="*{name}" class="form-control" placeholder="이름을 입력하세요"
                   th:class="${#fields.hasErrors('name')}? 'form-control fieldError' : 'form-control'">
            <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></p>
        </div>
        <div class="form-group">
            <label th:for="groups_name">부서명</label>
            <input type="text" th:field="*{groups_name}" class="form-control" placeholder="부서명을 입력하세요">
        </div>
        <div class="form-group">
            <label th:for="number">연락처</label>
            <input type="text" th:field="*{number}" class="form-control" placeholder="연락처를 입력하세요">
        </div>
        <div class="form-group">
            <label th:for="email">이메일</label>
            <input type="text" th:field="*{email}" class="form-control" placeholder="이메일을 입력하세요"
                   th:class="${#fields.hasErrors('email')}? 'form-control fieldError' : 'form-control'">
            <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></p>
        </div>
        <input type="button" onclick="checkPassword()" value="회원가입" class="btn btn-primary"></input>
    </form>
    <br/>
</div> <!-- /container -->
<script>
    function checkPassword() {
        var password1 = document.getElementById('password1').value;
        var password2 = document.getElementById('password2').value;
        if(password1 != password2){
            alert("비밀번호가 일치 하지 않습니다");
        }
        else {
            document.getElementById('join_form').submit();
        }
    }
</script>
</body>
</html>